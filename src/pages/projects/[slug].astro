---
import Layout from '../../layouts/Layout.astro';
import { getCollection, render } from 'astro:content';
import Navbar from '../../components/Navbar.astro';
import Foot from '../../components/Foot.astro';


export async function getStaticPaths() {
  const projects = await getCollection('projects');
  return projects.map((project, index) => ({
    params: { slug: project.id },
    props: { 
      project,
      index: index % 6 // Cycle through colors
    },
  }));
}
 const cardColors = [
    '#5189D3', // Kuning
    '#FED363', // Orange
    '#83D6E8', // Biru
    '#FF984D', // Cyan
    '#01BBB6', // Pink
    '#FE6B75', // Teal
  ];
const { project, index } = Astro.props;
const { Content } = await render(project);
console.log(index);
---


<Layout>
	
	<Navbar/>
    <div class={`max-w-4xl mx-auto px-4 py-12 rounded-2xl shadow-sm border-2 font-lusitana border-black`}
    style={{ backgroundColor: cardColors[index] }}>
        <div class="project-content">
            
            <Content />
        </div>
    </div>
    

    <Foot></Foot>
	
</Layout>

<style>
    .project-content :global(img) {
        max-width: 100%;
        height: auto;
        margin: 1.5rem auto;
        border: 1px solid #e5e7eb;
        border-radius: 0.5rem;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        display: block;
    }
    
    .project-content :global(img:hover) {
        transform: scale(1.05);
        transition: all 0.3s ease;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }
    
    .project-content :global(p) {
        margin-bottom: 1rem; /* mb-4 equivalent */
    }
</style>
