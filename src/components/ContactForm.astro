---
import "../styles/global.css";
---

<div class="bg-white/70 p-6 rounded-2xl border border-fifth/20 shadow-lg">
    <h2 class="text-2xl font-bold font-itim mb-4 text-second">Send a Message</h2>
    <form class="space-y-4" action="#" method="POST">
        <div>
            <label for="name" class="block text-sm font-medium text-sixth font-itim mb-1">Name</label>
            <input type="text" id="name" name="name" required 
                   class="w-full px-3 py-2 border border-fifth/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-fourth focus:border-fourth font-itim bg-white/90">
        </div>
        
        <div>
            <label for="email" class="block text-sm font-medium text-sixth font-itim mb-1">Email</label>
            <input type="email" id="email" name="email" required 
                   class="w-full px-3 py-2 border border-fifth/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-fourth focus:border-fourth font-itim bg-white/90">
        </div>
        
        <div>
            <label for="subject" class="block text-sm font-medium text-sixth font-itim mb-1">Subject</label>
            <input type="text" id="subject" name="subject" required 
                   class="w-full px-3 py-2 border border-fifth/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-fourth focus:border-fourth font-itim bg-white/90">
        </div>
        
        <div>
            <label for="message" class="block text-sm font-medium text-sixth font-itim mb-1">Message</label>
            <textarea id="message" name="message" rows="4" required 
                      class="w-full px-3 py-2 border border-fifth/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-fourth focus:border-fourth font-itim resize-none bg-white/90"></textarea>
        </div>
        
        <button type="submit" 
                class="w-full bg-fourth text-white py-2 px-4 rounded-lg hover:bg-fourth/90 transition-colors font-itim font-medium shadow-md hover:shadow-lg">
            Send Message
        </button>
    </form>
</div>

<script>
    // Add form submission handling
    document.querySelector('form')?.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Get form data
        const formData = new FormData(this);
        const name = formData.get('name');
        const email = formData.get('email');
        const subject = formData.get('subject');
        const message = formData.get('message');
        
        // Simple validation
        if (!name || !email || !subject || !message) {
            alert('Please fill in all fields');
            return;
        }
        
        // Create Gmail compose URL with pre-filled template
        const gmailSubject = encodeURIComponent(`Portfolio Contact: ${subject}`);
        const gmailBody = encodeURIComponent(`Hello Joseph,

I am reaching out through your portfolio website.

Name: ${name}
Email: ${email}
Subject: ${subject}

Message:
${message}

Best regards,
${name}`);
        
        // Open Gmail compose window
        const gmailUrl = `https://mail.google.com/mail/?view=cm&fs=1&to=joseph@example.com&su=${gmailSubject}&body=${gmailBody}`;
        
        // Open Gmail in a new tab
        window.open(gmailUrl, '_blank');
        
        // Show success message
        alert('Opening Gmail with your message template. Please review and send the email.');
        
        // Reset form
        this.reset();
    });
</script>
